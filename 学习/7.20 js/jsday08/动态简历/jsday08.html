<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    
</head>
<body>   
  <div class="leftContent">
    <pre class='content'></pre>
  </div>

  <div class="rightContent">
    <pre class='resume'></pre>
  </div>

    <style class="style"></style>

    <link rel="stylesheet" href='https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/4.0.0/github-markdown.min.css'></link>

    <script src="./marked.js"></script>
    <script>


        var contentEle = document.getElementsByClassName('content')[0];
        var styleEle = document.getElementsByClassName('style')[0];
        var resumeEle = document.getElementsByClassName('resume')[0];
        var leftContentEle = document.getElementsByClassName('leftContent')[0];
        var leftcount = 0;
        var rightcount = 0;
        var timer;

        /* 往左边添加内容 */
        function addContentToleft(){
                styleEle.innerHTML = styleContent.join("").substring(0,leftcount);

                contentEle.innerHTML = styleContent.join("").substring(0,leftcount);

                // scrollToBottom(leftContentEle);
        }
        
        // 显示左边画面
        function addContent(){
            if(leftcount < styleContent.slice(0,3).join("").length){  // 将下面的styleContent.join("")变成字符串
                // stop();
                leftcount++;

                addContentToleft();
        
            }else{   // 显示右边画面
              rightcount++;

              resumeEle.innerHTML = resumeContent.join("").substring(0,rightcount);

              if(rightcount > resumeContent[0].length){  // 右边简历显示完成 继续左边
                leftcount++;
                addContentToleft();
              }
               /* 解析markdown语法 */
              if(leftcount >= styleContent.slice(0,4).join('').length){
  
                /* marked */
                resumeEle.innerHTML = marked(resumeContent[0].substring(0,rightcount));
                }    
                }

                /* 添加class，增加样式 */
              if(leftcount > styleContent.slice(0,5).join('').length){

              resumeEle.className = 'markdown-body'
            }
          }

        /* 定时器开始 */
        function start(){
            timer = setInterval(addContent,8);
        }
        /* 停止 */
        function stop(){
            if(timer){
                clearInterval(timer);
            }
        }

        

        start();

        /* 简历内容 */
      const resumeContent = [`
## MyResume
  
### name : *Ban Yuan*
### slogen : *一次相遇终身相伴*
### Email : *contact@banyuan.club*
### website : www.banyuan.club`
      ];
  
      /* 叙述内容 */
      const styleContent = [
`/* Hello, My name is Ban Yuan,
* This is how I write my resume.
* I hope you like it~
* ===================================================
*/`,`/* This interface is not like development interface.
/* So , let me beautify the interface ^_^
*/`,`
*{
transition: all .3s;
}
html {
color: #06EB00; background: #030303;
}
.leftContent {
padding: 5px;
border: 1px solid;
overflow: auto;
width: 45vw; 
height: 90vh;
float:left;
}
/* It looks like a  command-line tool now , right ?
/* Let me finish my resume~
* ====================================================
* First of all , I need a paper.
*/
.rightContent {
float:left;
padding: 5px;  
width: 45vw; 
height: 90vh; 
border: 1px solid;
background: white; 
color: #222;
overflow: auto;
margin-left:2vw;
}
/* Now, I got a white paper. 
* Let me start~~
*/`,`/*As you see, it wirte by markdown grammar.
/*Let me translated into HTML by using marked package.*/
/*Let us start~*/
/*....1....*/
/*....2....*/
/*....3....*/
/*.action!.*/`,`
/*Emmmmmmmmmmmmmmmm......*/
/*It is not pretty right?*/
/*So I use css to beautify my resume. I use github-markdown-css.*/
/*Let us start~*/
/*....1....*/
/*....2....*/
/*....3....*/
/*...go!...*/`,
`/*And here we are.*/?`
];
    </script>
</body>
</html>